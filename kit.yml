name:    rabbitmq
version: 0.0.1
author:  Thomas Mitchell <tmitchell@starkandwayne.com>
docs:    https://github.com/pivotal-cf/cf-rabbitmq-multitenant-broker-release 
code:    https://github.com/genesis-community/rabbitmq-genesis-kit

# 2.6.0 was our last big feature bump
genesis_version_min: 2.6.0

credentials:
  base:
    rabbitmq/admin/broker:
      password: random 64
    rabbitmq/admin/management:
      password: random 64
    rabbitmq/erlang-cookie:
      cookie: random 64

certificates:
  base:
    rabbitmq/certs:
      ca:
        valid_for: 10y
        names:     ["rabbitmqCA"]
      server:
        valid_for: 1y
        names:     ["${params.rmq_external_url}"]

  multitenant-broker:
    broker/auth:
      password: random 64